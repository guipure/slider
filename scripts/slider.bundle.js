!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=19)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sliderType=e.sliderOrientation=e.standardOptions=void 0;e.standardOptions={orientation:"horizontal",type:"double",min:0,max:10,step:1,from:0,to:0,hideFromTo:!1,hideScale:!1};e.sliderOrientation={HORIZONTAL:"horizontal",VERTICAL:"vertical"};e.sliderType={SINGLE:"single",DOUBLE:"double"}},function(t,e,n){"use strict";var i;function r(t,e,n){if(!n||typeof n.value!==i.typeOfFunction)throw new TypeError("Only methods can be decorated with @bind. <"+e+"> is not a method!");return{configurable:i.boolTrue,get:function(){var t=n.value.bind(this);return Object.defineProperty(this,e,{value:t,configurable:i.boolTrue,writable:i.boolTrue}),t}}}Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.typeOfFunction="function",t.boolTrue=!0}(i||(i={})),e.bind=r,e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Component=void 0;var i=function(){function t(t){this.slider=t,this.element=this.create(),this.init()}return t.prototype.getElement=function(){return this.element},t}();e.Component=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Observable=void 0;var i=function(){function t(){this.callbacks={}}return t.prototype.subscribe=function(t,e){var n=this.callbacks[t];n?n.push(e):this.callbacks[t]=[e]},t.prototype.notify=function(t,e){var n=this.callbacks[t];n&&n.forEach((function(t){t(e)}))},t}();e.Observable=i},,,,,,,,,,,,,,,,function(t,e,n){n(20),t.exports=n(28)},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var r=n(21),o=n(0);jQuery.fn.slider=function(t){var e=i(i({},o.standardOptions),t);return new r.Presenter(this.get(0),e)}},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Presenter=void 0;var s=o(n(1)),a=n(22),l=n(23),u=n(0),c=n(3),p=function(){function t(t,e){this.anchor=t,this.events=new c.Observable,this.model=this.createModel(e),this.view=this.createView(t,this.model.state),this.addSubscribtions()}return t.prototype.setOptions=function(t){var e=i(i({},u.standardOptions),t);this.model.setState(e)},t.prototype.getOptions=function(){return this.model.state},t.prototype.createModel=function(t){return new a.Model(t)},t.prototype.createView=function(t,e){return new l.View(t,e)},t.prototype.addSubscribtions=function(){this.model.events.subscribe("newModelState",this.handleNewModelState),this.view.events.subscribe("newFromTo",this.handleNewFromTo)},t.prototype.handleNewModelState=function(t){this.view.setState(t),this.events.notify("newModelState",t)},t.prototype.handleNewFromTo=function(t){var e=this.model.state,n=i(i({},e),t);this.model.setState(n)},r([s.default],t.prototype,"handleNewModelState",null),r([s.default],t.prototype,"handleNewFromTo",null),t}();e.Presenter=p},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Model=void 0;var s=o(n(1)),a=n(3),l=function(){function t(t){this.events=new a.Observable,this.state=this.init(t)}return t.prototype.setState=function(t){var e=this.correctOptions(t);this.state=i({},e),this.events.notify("newModelState",this.state)},t.prototype.init=function(t){return this.setState(t),this.state},t.prototype.correctOptions=function(t){var e=t.min,n=t.max,r=t.step,o=this.correctStep(r),s=this.correctMinMax(e,n,o.step),a=i(i(i({},t),s),o),l=this.correctFromAndTo(a);return i(i({},a),l)},t.prototype.correctMinMax=function(t,e,n){var i,r={min:t,max:e};return t>e&&(i=[e,t],r.min=i[0],r.max=i[1]),t===e&&(r.max=t+n),r},t.prototype.correctStep=function(t){var e=Math.round(t);return e<1&&(e=1),{step:e}},t.prototype.correctFromAndTo=function(t){var e,n=t.min,i=t.max,r=t.step,o=t.from,s=t.to,a=(i-n)%r;0===a&&(a=r);var l=c(o),u=c(s);function c(t){return t>=i-a/2?i:Math.round((t-n)/r)*r+n}var p="double"===t.type,h=u===l&&p;u<l&&p&&(u=(e=[l,u])[0],l=e[1]);var d=i-n<r?i-n:r;return h&&(u===i?l=i-a:u=l===n?n+d:l+d),l<n&&(l=n,u<=n)?{from:l,to:u=n+d}:{from:l,to:u}},r([s.default],t.prototype,"setState",null),t}();e.Model=l},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.View=void 0;var s=o(n(1)),a=n(0),l=n(3),u=n(24),c=n(26),p=n(27),h=function(){function t(t,e){this.anchor=t,this.element=document.body,this.events=new l.Observable,this.element=this.createSlider(),this.state=this.init(e),this.createSliderElements()}return t.prototype.setState=function(t){var e=i(i({},this.state),t),n=e.orientation,r=this.getPxStep(e),o=this.getSliderSize(n),s=this.isOrientationChanged(t.orientation);this.state=i(i({},e),{pxStep:r,pxMax:o}),s&&this.repaintSlider(),this.events.notify("newViewState",this.state)},t.prototype.getThumbsPositions=function(){var t=this,e=this.element.querySelectorAll(".js-slider__thumb"),n=function(e){var n=t.state.orientation===a.sliderOrientation.HORIZONTAL?"left":"top",i=Number.parseInt(getComputedStyle(e).width,10);return e.getBoundingClientRect()[n]+i/2};return[n(e[0]),n(e[1])].sort((function(t,e){return t-e}))},t.prototype.getSliderPosition=function(){var t=this.state.orientation===a.sliderOrientation.HORIZONTAL?"left":"top";return this.element.getBoundingClientRect()[t]},t.prototype.convertPxToPercent=function(t){return 100*t/this.getSliderSize(this.state.orientation)},t.prototype.init=function(t){var e=this.getPxStep(t),n=this.getSliderSize(t.orientation);return i(i({},t),{pxStep:e,pxMax:n})},t.prototype.createSlider=function(){var t=document.createElement("div");return t.className="slider",this.addEventListeners(t),this.anchor.prepend(t),t},t.prototype.addEventListeners=function(t){t.addEventListener("click",this.onTrackClick),t.addEventListener("scaleclick",this.onScaleClick),t.addEventListener("mousedown",this.onThumbMouseDown)},t.prototype.createSliderElements=function(){new c.Thumb(this),new c.Thumb(this),new u.Track(this),new p.Scale(this)},t.prototype.repaintSlider=function(){this.element.remove(),this.element=this.createSlider(),this.createSliderElements()},t.prototype.isOrientationChanged=function(t){return!!t&&t!==this.state.orientation},t.prototype.onTrackClick=function(t){var e=t.target;if(/track|bar/.test(e.className)){var n=this.state.orientation===a.sliderOrientation.HORIZONTAL?t.clientX:t.clientY;this.setFromTo(this.convertPxToValue(n))}},t.prototype.onScaleClick=function(t){var e=t.detail.value;this.setFromTo(e)},t.prototype.setFromTo=function(t,e){var n=this.state,i=n.from,r=n.to,o=Math.abs(i-t),s=Math.abs(r-t);if(this.state.type===a.sliderType.SINGLE&&o)return this.setState({from:t}),void this.events.notify("newFromTo",{from:t});o*s!=0&&(e||(e=o<s?"from":"to"),"from"===e?r>t&&(this.setState({from:t}),this.events.notify("newFromTo",{from:t})):i<t&&(this.setState({to:t}),this.events.notify("newFromTo",{to:t})))},t.prototype.isFromOrTo=function(t){var e,n=this.getThumbsPositions(),i=Math.abs(n[0]-t),r=Math.abs(n[1]-t);return this.state.orientation===a.sliderOrientation.VERTICAL&&(i=(e=[r,i])[0],r=e[1]),i<r?"from":"to"},t.prototype.onThumbMouseDown=function(t){var e=this;t.preventDefault();var n=t.target;if(/thumb/.test(n.className)){var i=this.state.orientation===a.sliderOrientation.HORIZONTAL?"clientX":"clientY",r=t[i],o=this.isFromOrTo(r),s=this.convertPxToValue(r);this.setFromTo(s,o);var l=function(t){var n=e.convertPxToValue(t[i]);e.setFromTo(n,o)},u=function(){document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",u)};document.addEventListener("mousemove",l),document.addEventListener("mouseup",u)}},t.prototype.convertPxToValue=function(t){var e=this.state,n=e.orientation,i=e.min,r=e.max,o=e.step,s=this.getPxStep(this.state),l=this.getSliderPosition(),u=this.getSliderPosition()+this.getSliderSize(n),c=n===a.sliderOrientation.HORIZONTAL?t-l:u-t;return c>this.getSliderSize(n)?r:c<0?i:Math.round(c/s)*o+i},t.prototype.getSliderSize=function(t){var e=this.element.getBoundingClientRect();return t===a.sliderOrientation.HORIZONTAL?e.width:e.height},t.prototype.getPxStep=function(t){var e=t.min,n=t.max,i=t.step,r=t.orientation,o=Math.ceil((n-e)/i);return this.getSliderSize(r)/o},r([s.default],t.prototype,"onTrackClick",null),r([s.default],t.prototype,"onScaleClick",null),r([s.default],t.prototype,"onThumbMouseDown",null),t}();e.View=h},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Track=void 0;var o=n(25),s=function(t){function e(e){var n=t.call(this,e)||this;return n.initBar(),n}return r(e,t),e.prototype.init=function(){this.slider.element.append(this.element)},e.prototype.create=function(){var t=document.createElement("div");return t.className="slider__track slider__track_"+this.slider.state.orientation,t},e.prototype.initBar=function(){var t=new o.Bar(this.slider);this.element.append(t.getElement())},e}(n(2).Component);e.Track=s},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Bar=void 0;var o=n(0),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.init=function(){this.placeBar(this.element),this.slider.events.subscribe("newViewState",this.placeBar.bind(this,this.element))},e.prototype.create=function(){var t=document.createElement("div");return t.className="slider__bar slider__bar_"+this.slider.state.orientation,t},e.prototype.placeBar=function(t){var e=this.slider.state.orientation===o.sliderOrientation.HORIZONTAL,n=e?"left":"top",i=e?"width":"height",r=this.slider.getThumbsPositions(),s=this.slider.getSliderPosition(),a=this.slider.convertPxToPercent.bind(this.slider);if(this.slider.state.type===o.sliderType.SINGLE)if(e){var l=a(Math.abs(r[1]-s));t.style[n]="0%",t.style[i]=l+"%"}else{l=100-(u=a(Math.abs(r[1]-s)));t.style[n]=u+"%",t.style[i]=l+"%"}else{var u=a(Math.abs(r[0]-s)),c=a(Math.abs(r[1]-r[0]));t.style[n]=u+"%",t.style[i]=c+"%"}},e}(n(2).Component);e.Bar=s},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Thumb=void 0;var a=s(n(1)),l=n(0),u=function(t){function e(e){var n=t.call(this,e)||this;return n.currentValue=0,n.label=n.createLabel(),n.initLabel(),n}return r(e,t),e.prototype.init=function(){this.slider.events.subscribe("newViewState",this.updateThumb)},e.prototype.create=function(){var t=document.createElement("div"),e=!!this.slider.element.querySelector(".js-slider__thumb")?"second":"first";t.classList.add("slider__thumb","js-slider__thumb","slider__thumb_"+this.slider.state.orientation,"slider__thumb_"+e);return t.addEventListener("dragstart",(function(t){return t.preventDefault()})),this.slider.element.append(t),t},e.prototype.updateThumb=function(t){this.toggleThumb(t.type),this.placeThumb(t.from,t.to),this.setHideFromTo(t.hideFromTo)},e.prototype.toggleThumb=function(t){this.element.classList.contains("slider__thumb_second")&&(t===l.sliderType.SINGLE?this.hideThumb():this.showThumb())},e.prototype.placeThumb=function(t,e){this.element.classList.contains("slider__thumb_first")?(this.currentValue=t,this.moveThumbAtValue(t)):(this.currentValue=e,this.moveThumbAtValue(e))},e.prototype.moveThumbAtValue=function(t){var e=this.slider.state.orientation,n=this.convertValueToPx(t),i=this.getSide(e),r=this.slider.convertPxToPercent(n);this.element.style[i]=r+"%",this.updateLabel()},e.prototype.convertValueToPx=function(t){var e=this.slider.state,n=e.min,i=e.max,r=e.step,o=e.pxMax,s=e.pxStep;return t===i?o:Math.round((t-n)/r)*s},e.prototype.showThumb=function(){this.element.style.display=""},e.prototype.hideThumb=function(){this.element.style.display="none"},e.prototype.getSide=function(t){return t===l.sliderOrientation.HORIZONTAL?"left":"bottom"},e.prototype.createLabel=function(){var t=this.slider.state.orientation,e=document.createElement("div");return e.classList.add("slider__thumb-label","js-slider__thumb-label","slider__thumb-label_"+t),e},e.prototype.initLabel=function(){this.updateThumb(this.slider.state),this.updateLabel(),this.element.append(this.label)},e.prototype.setHideFromTo=function(t){this.label.style.display=t?"none":""},e.prototype.updateLabel=function(){this.label.innerHTML=this.currentValue.toString(),this.label.style.opacity="1",this.doLabelsCollide()&&this.uniteLabels()},e.prototype.doLabelsCollide=function(){if("none"===this.label.style.display)return!1;var t=this.slider.element.querySelectorAll(".js-slider__thumb-label");if(t.length<2)return!1;var e=t[0],n=t[1],i=this.slider.state.orientation,r=i===l.sliderOrientation.VERTICAL?"bottom":"left",o=i===l.sliderOrientation.VERTICAL?"bottom":"right",s=e.getBoundingClientRect()[r],a=e.getBoundingClientRect()[o],u=n.getBoundingClientRect()[r],c=n.getBoundingClientRect()[o];return!(s===u&&a===c)&&!!(s<=c&&u<=a||u<=a&&s<=c)},e.prototype.uniteLabels=function(){if("none"!==this.label.style.display&&!this.getElement().classList.contains("slider__thumb_first")){var t=this.slider.element.querySelectorAll(".js-slider__thumb-label");if(!(t.length<2)){var e=t[0],n=t[1],i=Number.parseInt(e.innerHTML,10),r=Number.parseInt(n.innerHTML,10);e.innerHTML=i+" — "+r,n.style.opacity="0"}}},o([a.default],e.prototype,"updateThumb",null),e}(n(2).Component);e.Thumb=u},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Scale=void 0;var a=s(n(1)),l=n(0),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.init=function(){this.update(),this.slider.element.append(this.element),this.slider.events.subscribe("newViewState",this.update)},e.prototype.create=function(){var t=document.createElement("div");return t.className="slider__scale slider__scale_"+this.slider.state.orientation,t.addEventListener("click",this.onScaleClick),t},e.prototype.update=function(){this.slider.state.hideScale?this.element.style.display="none":(this.element.style.display="",this.element.innerHTML="",this.element.className="slider__scale slider__scale_"+this.slider.state.orientation,this.insertScaleValues())},e.prototype.calculateIncrement=function(t){var e=this.slider.state,n=e.pxMax,i=e.pxStep,r=Math.ceil(n/i);return Math.ceil(r/5)*t},e.prototype.insertScaleValues=function(){for(var t=this.slider.state,e=t.pxMax,n=t.pxStep,i=t.min,r=t.max,o=t.step,s=this.calculateIncrement(o),a=s/o*n,l=document.createDocumentFragment(),u=0,c=i;c<r&&!(u>e-50);c+=s)this.createScaleValue(l,c,u),u+=a;this.createScaleValue(l,r,e),this.element.append(l)},e.prototype.createScaleValue=function(t,e,n){var i=this.slider.state.orientation,r=document.createElement("span");r.className="slider__scale-value slider__scale-value_"+i,r.innerHTML=e.toString(),t.append(r);var o=this.slider.convertPxToPercent.bind(this.slider)(n),s=i===l.sliderOrientation.HORIZONTAL?"left":"bottom";r.style[s]=o+"%"},e.prototype.onScaleClick=function(t){var e=t.target;if(e instanceof HTMLElement&&e.classList.contains("slider__scale-value")){var n=Number(e.innerHTML),i=new CustomEvent("scaleclick",{bubbles:!0,detail:{event:t,value:n}});e.dispatchEvent(i)}},o([a.default],e.prototype,"update",null),e}(n(2).Component);e.Scale=u},function(t,e,n){}]);